services:
  planer-mcp:
    container_name: planer-mcp
    build: ./planer-mcp
    volumes:
      - ${CODE_PATH}:/${PROJECT_NAME}:ro # Mount the code directory as read-only
    restart: unless-stopped
    environment:
      - CODE_PATH=${CODE_PATH}
      - PROJECT_NAME=${PROJECT_NAME}
    ports:
      - "8080:8080"

  coder-mcp:
    container_name: coder-mcp
    build: ./coder-mcp
    volumes:
      - ${CODE_PATH}:/${PROJECT_NAME}:ro # Mount the code directory as read-only
    restart: unless-stopped
    environment:
      - CODE_PATH=${CODE_PATH}
      - PROJECT_NAME=${PROJECT_NAME}
    ports:
      - "8081:8080"